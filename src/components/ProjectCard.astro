---
interface Link {
    label: string;
    href: string;
}

interface Props {
    id: string;
    title: string;
    tagline?: string;
    image?: string;
    stack: string;
    description: string;
    links?: Link[];
}

const { id, title, tagline, image, stack, description, links } = Astro.props;
---

<div
    id={id}
    class="p-6 rounded-2xl border border-black/10 dark:border-white/15 glass-panel space-y-3 hover:-translate-y-1 hover:bg-black/5 dark:hover:bg-white/10 transition-all duration-200"
>
    {
        image && (
            <img src={image} alt={`${title} screenshot`} class="w-full h-40 object-cover rounded-md" loading="lazy" />
        )
    }
    <div class="flex items-start justify-between gap-3">
        <div>
            {tagline && <p class="text-xs uppercase text-black/60 dark:text-white/60">{tagline}</p>}
            <h3 class="text-xl font-semibold text-black dark:text-white mt-1">
                {title}
            </h3>
        </div>
        <span class="text-xs px-2 py-1 rounded-full border border-black/10 dark:border-white/20 whitespace-nowrap">
            {stack}
        </span>
    </div>
    <p class="text-sm md:text-base text-black/80 dark:text-white/80 leading-relaxed">
        {description}
    </p>
    {
        links && links.length > 0 && (
            <div class="flex flex-wrap gap-2">
                {links.map((link) => (
                    <a
                        href={link.href}
                        target={link.href.startsWith("http") ? "_blank" : undefined}
                        rel={link.href.startsWith("http") ? "noopener noreferrer" : undefined}
                        class="px-3 py-1 rounded-full border border-black/10 dark:border-white/25 text-sm hover:bg-black/5 hover:dark:bg-white/15 transition"
                    >
                        {link.label}
                    </a>
                ))}
            </div>
        )
    }
</div>
