---
import Container from "@components/Container.astro";
import PageLayout from "@layouts/PageLayout.astro";
import ProjectCard from "@components/ProjectCard.astro";
import { PROJECTS } from "@consts";

const projectLink = (slug: string) => `/projects/${slug}`;

const blockchainProjects = [
    {
        id: "nft-rental-marketplace",
        title: "NFT Rental Marketplace",
        tagline: "Time-based NFT rentals with royalty support",
        image: "",
        stack: "Solidity · Foundry · React",
        bullets: [
            "Smart contracts allow NFTs to be rented for fixed periods with automatic return.",
            "Royalty support for creators and safety checks against double-renting.",
            "Frontend for minting, listing, and renting NFTs.",
        ],
        links: [{ label: "GitHub", href: "https://github.com/imranpollob" }],
    },
    {
        id: "dao-grants-governance",
        title: "DAO – Community Grants Governance",
        tagline: "On-chain governance for community grants",
        image: "",
        stack: "Solidity · Foundry · React",
        bullets: [
            "Token-based voting with proposal submission and quorum rules.",
            "Separation of proposal, voting, and treasury logic.",
            "Designed to be transparent and auditable.",
        ],
        links: [{ label: "GitHub", href: "https://github.com/imranpollob" }],
    },
    {
        id: "stablecoin-protocol",
        title: "Stablecoin Protocol",
        tagline: "Over-collateralized stablecoin experiment",
        image: "",
        stack: "Solidity · Foundry",
        bullets: [
            "Implements mint/burn flows with collateral ratios.",
            "Basic liquidation mechanism for under-collateralized positions.",
            "Focuses on safe arithmetic and security-aware design.",
        ],
        links: [{ label: "GitHub", href: "https://github.com/imranpollob" }],
    },
    {
        id: "solidity-ast-generator",
        title: "Solidity AST Generator",
        tagline: "Static analysis tooling for Solidity",
        image: "",
        stack: "JavaScript · Node.js",
        bullets: [
            "Parses Solidity contracts and emits ASTs.",
            "Used as a foundation for graph/hypergraph-based analysis.",
            "Demo highlights traversal and visualization paths.",
        ],
        links: [
            { label: "Project page", href: projectLink("03-solidity-ast-generator") },
            { label: "Demo", href: "https://ast.imranpollob.com/" },
            { label: "GitHub", href: "https://github.com/imranpollob/ast-generator" },
        ],
    },
];

const aiProjects = [
    {
        id: "multi-pdf-rag-chatbot",
        title: "Multi-PDF RAG Chatbot",
        image: "",
        stack: "LLM · LangChain · Vector DBs",
        bullets: [
            "Lets users upload multiple PDFs and ask questions across all documents.",
            "Implements chunking, embedding, similarity search, and answer generation.",
            "Focus on prompt design and grounding answers in source text.",
        ],
        links: [{ label: "GitHub", href: "https://github.com/imranpollob" }],
    },
    {
        id: "ai-trading-suite",
        title: "AI Trading / Deal Finder / Bitcoin Price Prediction Suite",
        image: "",
        stack: "Time-series analysis",
        bullets: [
            "Experiments with models for price prediction and opportunity detection.",
            "Includes data preprocessing, feature engineering, and backtesting.",
            "Demonstrates work with time-series data and evaluation metrics.",
        ],
        links: [{ label: "GitHub", href: "https://github.com/imranpollob" }],
    },
    {
        id: "food-detector-ai",
        title: "Food Detector AI",
        image: "",
        stack: "Deep Learning",
        bullets: [
            "Classifies images of food into categories.",
            "End-to-end CV pipeline: dataset handling, training, evaluation, inference.",
            "Built to test model deployment patterns for lightweight CV apps.",
        ],
        links: [{ label: "GitHub", href: "https://github.com/imranpollob" }],
    },
];
---

<PageLayout title={PROJECTS.TITLE} description={PROJECTS.DESCRIPTION}>
    <section class="pt-28 pb-12">
        <Container size="xl">
            <div class="animate space-y-4 text-center">
                <div class="text-xl md:text-2xl lg:text-3xl page-heading glass-panel">{PROJECTS.TITLE}</div>
                <article class="prose dark:prose-invert max-w-3xl mx-auto glass-panel">
                    <p>
                        I like to learn by building. These projects represent my work in blockchain, AI/ML, and
                        developer productivity. Many more are available on my GitHub.
                    </p>
                </article>
            </div>
        </Container>
    </section>

    <section class="pb-16" id="blockchain-projects">
        <Container size="xl">
            <div class="animate space-y-6">
                <div>
                    <p class="text-sm uppercase tracking-wide glass-panel">Blockchain & Web3 Projects</p>
                    <h2 class="text-2xl font-bold text-black dark:text-white glass-panel">On-chain builds</h2>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    {
                        blockchainProjects.map((project) => (
                            <ProjectCard
                                id={project.id}
                                title={project.title}
                                tagline={project.tagline}
                                image={project.image}
                                stack={project.stack}
                                description={project.bullets[0]}
                                links={project.links}
                            />
                        ))
                    }
                </div>
            </div>
        </Container>
    </section>

    <section class="pb-16" id="ai-projects">
        <Container size="xl">
            <div class="animate space-y-6">
                <div>
                    <p class="text-sm uppercase tracking-wide glass-panel">AI & ML Projects</p>
                    <h2 class="text-2xl font-bold text-black dark:text-white glass-panel">Applied intelligence</h2>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    {
                        aiProjects.map((project) => (
                            <ProjectCard
                                id={project.id}
                                title={project.title}
                                image={project.image}
                                stack={project.stack}
                                description={project.bullets[0]}
                                links={project.links}
                            />
                        ))
                    }
                </div>
            </div>
        </Container>
    </section>
</PageLayout>
