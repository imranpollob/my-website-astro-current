---
import Container from "@components/Container.astro";
import PageLayout from "@layouts/PageLayout.astro";
import { PROJECTS } from "@consts";

const projectLink = (slug: string) => `/projects/${slug}`;

const blockchainProjects = [
    {
        id: "nft-rental-marketplace",
        title: "NFT Rental Marketplace",
        tagline: "Time-based NFT rentals with royalty support",
        image: "",
        stack: "Solidity · Foundry · React",
        bullets: [
            "Smart contracts allow NFTs to be rented for fixed periods with automatic return.",
            "Royalty support for creators and safety checks against double-renting.",
            "Frontend for minting, listing, and renting NFTs.",
        ],
        links: [{ label: "GitHub", href: "https://github.com/imranpollob" }],
    },
    {
        id: "dao-grants-governance",
        title: "DAO – Community Grants Governance",
        tagline: "On-chain governance for community grants",
        image: "",
        stack: "Solidity · Foundry · React",
        bullets: [
            "Token-based voting with proposal submission and quorum rules.",
            "Separation of proposal, voting, and treasury logic.",
            "Designed to be transparent and auditable.",
        ],
        links: [{ label: "GitHub", href: "https://github.com/imranpollob" }],
    },
    {
        id: "stablecoin-protocol",
        title: "Stablecoin Protocol",
        tagline: "Over-collateralized stablecoin experiment",
        image: "",
        stack: "Solidity · Foundry",
        bullets: [
            "Implements mint/burn flows with collateral ratios.",
            "Basic liquidation mechanism for under-collateralized positions.",
            "Focuses on safe arithmetic and security-aware design.",
        ],
        links: [{ label: "GitHub", href: "https://github.com/imranpollob" }],
    },
    {
        id: "solidity-ast-generator",
        title: "Solidity AST Generator",
        tagline: "Static analysis tooling for Solidity",
        image: "",
        stack: "JavaScript · Node.js",
        bullets: [
            "Parses Solidity contracts and emits ASTs.",
            "Used as a foundation for graph/hypergraph-based analysis.",
            "Demo highlights traversal and visualization paths.",
        ],
        links: [
            { label: "Project page", href: projectLink("03-solidity-ast-generator") },
            { label: "Demo", href: "https://ast.imranpollob.com/" },
            { label: "GitHub", href: "https://github.com/imranpollob/ast-generator" },
        ],
    },
];

const aiProjects = [
    {
        id: "multi-pdf-rag-chatbot",
        title: "Multi-PDF RAG Chatbot",
        image: "",
        stack: "LLM · LangChain · Vector DBs",
        bullets: [
            "Lets users upload multiple PDFs and ask questions across all documents.",
            "Implements chunking, embedding, similarity search, and answer generation.",
            "Focus on prompt design and grounding answers in source text.",
        ],
        links: [{ label: "GitHub", href: "https://github.com/imranpollob" }],
    },
    {
        id: "ai-trading-suite",
        title: "AI Trading / Deal Finder / Bitcoin Price Prediction Suite",
        image: "",
        stack: "Time-series analysis",
        bullets: [
            "Experiments with models for price prediction and opportunity detection.",
            "Includes data preprocessing, feature engineering, and backtesting.",
            "Demonstrates work with time-series data and evaluation metrics.",
        ],
        links: [{ label: "GitHub", href: "https://github.com/imranpollob" }],
    },
    {
        id: "food-detector-ai",
        title: "Food Detector AI",
        image: "",
        stack: "Deep Learning",
        bullets: [
            "Classifies images of food into categories.",
            "End-to-end CV pipeline: dataset handling, training, evaluation, inference.",
            "Built to test model deployment patterns for lightweight CV apps.",
        ],
        links: [{ label: "GitHub", href: "https://github.com/imranpollob" }],
    },
];

---

<PageLayout title={PROJECTS.TITLE} description={PROJECTS.DESCRIPTION}>
    <section class="pt-28 pb-12">
        <Container size="xl">
            <div class="animate space-y-4 text-center">
                <div class="text-xl md:text-2xl lg:text-3xl page-heading glass-panel">{PROJECTS.TITLE}</div>
                <article class="prose dark:prose-invert max-w-3xl mx-auto glass-panel">
                    <p>
                        I like to learn by building. These projects represent my work in blockchain, AI/ML, and
                        developer productivity. Many more are available on my GitHub.
                    </p>
                </article>
            </div>
        </Container>
    </section>

    <section class="pb-16" id="blockchain-projects">
        <Container size="xl">
            <div class="animate space-y-6">
                <div>
                    <p class="text-sm uppercase tracking-wide glass-panel">Blockchain & Web3 Projects</p>
                    <h2 class="text-2xl font-bold text-black dark:text-white glass-panel">On-chain builds</h2>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    {
                        blockchainProjects.map((project) => (
                            <div
                                id={project.id}
                                class="p-6 rounded-2xl border border-black/10 dark:border-white/15 glass-panel space-y-3 hover:-translate-y-0.5 transition-transform"
                            >
                                {project.image && (
                                    <img
                                        src={project.image}
                                        alt={`${project.title} screenshot`}
                                        class="w-full h-40 object-cover rounded-md"
                                    />
                                )}
                                <div class="flex items-start justify-between gap-3">
                                    <div>
                                        <h3 class="text-xl font-semibold text-black dark:text-white">
                                            {project.title}
                                        </h3>
                                        <p class="text-sm text-black/70 dark:text-white/70 mt-1">
                                            {project.tagline || project.stack}
                                        </p>
                                    </div>
                                    <div />
                                </div>
                                <p class="text-sm md:text-base text-black/80 dark:text-white/80">
                                    {project.bullets?.[0]}
                                </p>
                                <div class="flex flex-wrap gap-2">
                                    {project.links?.map((link) => (
                                        <a
                                            href={link.href}
                                            target={link.href.startsWith("http") ? "_blank" : undefined}
                                            class="px-3 py-1 rounded-full border border-black/10 dark:border-white/25 text-sm hover:bg-black/5 hover:dark:bg-white/15 transition"
                                        >
                                            {link.label}
                                        </a>
                                    ))}
                                </div>
                            </div>
                        ))
                    }
                </div>
            </div>
        </Container>
    </section>

    <section class="pb-16" id="ai-projects">
        <Container size="xl">
            <div class="animate space-y-6">
                <div>
                    <p class="text-sm uppercase tracking-wide glass-panel">AI & ML Projects</p>
                    <h2 class="text-2xl font-bold text-black dark:text-white glass-panel">Applied intelligence</h2>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    {
                        aiProjects.map((project) => (
                            <div
                                id={project.id}
                                class="p-6 rounded-2xl border border-black/10 dark:border-white/15 glass-panel space-y-3 hover:-translate-y-0.5 transition-transform"
                            >
                                {project.image && (
                                    <img
                                        src={project.image}
                                        alt={`${project.title} screenshot`}
                                        class="w-full h-40 object-cover rounded-md"
                                    />
                                )}
                                <div class="flex items-start justify-between gap-3">
                                    <div>
                                        <h3 class="text-xl font-semibold text-black dark:text-white">
                                            {project.title}
                                        </h3>
                                        <p class="text-sm text-black/70 dark:text-white/70 mt-1">{project.stack}</p>
                                    </div>
                                    <div />
                                </div>
                                <p class="text-sm md:text-base text-black/80 dark:text-white/80">
                                    {project.bullets?.[0]}
                                </p>
                                <div class="flex flex-wrap gap-2">
                                    {project.links?.map((link) => (
                                        <a
                                            href={link.href}
                                            target={link.href.startsWith("http") ? "_blank" : undefined}
                                            class="px-3 py-1 rounded-full border border-black/10 dark:border-white/25 text-sm hover:bg-black/5 hover:dark:bg-white/15 transition"
                                        >
                                            {link.label}
                                        </a>
                                    ))}
                                </div>
                            </div>
                        ))
                    }
                </div>
            </div>
        </Container>
    </section>
</PageLayout>
