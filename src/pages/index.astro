---
import { getCollection, type CollectionEntry } from "astro:content";
import Container from "@components/Container.astro";
import PageLayout from "@layouts/PageLayout.astro";
import { SITE, SOCIALS } from "@consts";

const publishedPosts = (await getCollection("blog"))
    .filter((post) => !post.data.draft)
    .sort((a, b) => b.data.date.getTime() - a.data.date.getTime());

const featuredBlogSelections = [
    {
        slug: "ai/0-machine-learning-crash-course",
        blurb: "The complete ML series, from regression to deep learning",
    },
    {
        slug: "blockchain-fundamentals/00-blockchain-crash-course",
        blurb: "Learn Blockchain, Ethereum, Smart Contracts, and core DeFi concepts",
    },
    {
        slug: "system-design/00-system-design-interview-series",
        blurb: "Crack the System Design Interview with Real-World Solutions",
    },
];

type BlogPreview = { post: CollectionEntry<"blog">; blurb?: string };

const selectedBlogs = featuredBlogSelections
    .map((item): BlogPreview | null => {
        const post = publishedPosts.find((entry) => entry.slug === item.slug);
        if (!post) return null;
        return { post, blurb: item.blurb };
    })
    .filter((entry): entry is BlogPreview => entry !== null);

const blogPreviews: BlogPreview[] =
    selectedBlogs.length > 0 ? selectedBlogs : publishedPosts.slice(0, 3).map((post) => ({ post }));

const stats = [
    {
        title: "üéì PhD Researcher",
        detail: "Wayne State University",
    },
    {
        title: "üíº Software Engineer",
        detail: "5+ years of industry experience",
    },
    {
        title: "üß™ Active Builder",
        detail: "15+ deployed projects ¬∑ 50+ repositories",
    },
    {
        title: "‚úçÔ∏è Technical Writer",
        detail: "ML, Blockchain & System Design",
    },
];

const skillAreas = [
    {
        title: "Blockchain & Web3",
        bullets: [
            "Solidity, Ethereum, smart contracts",
            "DeFi protocols (DAO, stablecoin, NFT marketplace)",
            "Smart contract security & common vulnerabilities",
            "Foundry, Hardhat, Ethers.js",
        ],
    },
    {
        title: "AI & Machine Learning",
        bullets: [
            "Python, ML pipelines, model training & evaluation",
            "LLMs, retrieval-augmented generation, agentic assistants",
            "Generative AI, computer vision",
            "Time-series forecasting",
        ],
    },
    {
        title: "Software Engineering",
        bullets: [
            "React, Next.js, Vue.js, Node.js, Laravel",
            "REST APIs, authentication, clean architectures",
            "PostgreSQL, MySQL, MongoDB",
            "Docker, CI/CD, AWS",
        ],
    },
];

const featuredProjects = [
    {
        id: "nft-rental-marketplace",
        title: "NFT Rental Marketplace",
        subtitle: "Time-based NFT rental protocol with royalty support",
        description:
            "Solidity-based marketplace where users rent NFTs for fixed periods with automatic return and creator royalties.",
        stack: "Solidity ¬∑ Hardhat ¬∑ Ethers.js ¬∑ Next.js",
        href: "/projects#nft-rental-marketplace",
    },
    {
        id: "dao-grants-governance",
        title: "DAO Grants Governance",
        subtitle: "On-chain governance for community grants",
        description: "Token-based voting with transparent proposals, quorum rules, and clear treasury separation.",
        stack: "Solidity ¬∑ Hardhat ¬∑ TypeScript ¬∑ React",
        href: "/projects#dao-grants-governance",
    },
    {
        id: "solidity-ast-generator",
        title: "Solidity AST Generator",
        subtitle: "Static analysis tooling for Solidity",
        description:
            "Parses Solidity contracts and emits ASTs for deeper analysis, visualization, and security research.",
        stack: "JavaScript ¬∑ Node.js",
        href: "/projects#solidity-ast-generator",
    },
    {
        id: "multi-pdf-rag-chatbot",
        title: "Multi-PDF RAG Chatbot",
        subtitle: "LLM-powered assistant for documents",
        description:
            "Answers questions across multiple PDFs using chunking, embeddings, similarity search, and grounded responses.",
        stack: "Python ¬∑ Vector search ¬∑ LLM API",
        href: "/projects#multi-pdf-rag-chatbot",
    },
];

const certificationSummary =
    "Security for Blockchain and DApps ¬∑ Blockchain Solution Architecture ¬∑ Blockchain Security ¬∑ IBM Generative AI Engineering ¬∑ IBM RAG and Agentic AI ¬∑ Microsoft AI & ML Engineering";

const certifications = [
    {
        label: "Blockchain",
        values: ["Security for Blockchain and DApps", "Blockchain Solution Architecture", "Blockchain Security"],
    },
    {
        label: "AI & Machine Learning",
        values: ["IBM Generative AI Engineering", "IBM RAG and Agentic AI", "Microsoft AI & ML Engineering"],
    },
];

const email = SOCIALS.find((item) => item.ICON === "email")?.TEXT || "polboy7777@gmail.com";
---

<PageLayout title="Home" description={SITE.DESCRIPTION}>
    <section class="relative pt-28 pb-16">
        <Container size="xl">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-10 items-center">
                <div class="space-y-6 animate">
                    <h1
                        class="text-3xl md:text-4xl lg:text-5xl font-bold text-black dark:text-white leading-tight glass-panel"
                    >
                        Blockchain & AI Software Engineer
                    </h1>
                    <h2 class="text-2xl md:text-3xl font-semibold text-black dark:text-white glass-panel">
                        PhD Candidate
                    </h2>
                    <h2 class="text-xl md:text-2xl font-semibold text-black dark:text-white glass-panel">
                        5+ Years of Software Engineering Experience
                    </h2>
                    <p class="text-base md:text-lg text-black/75 dark:text-white/75 glass-panel">
                        I love building blockchain applications and making the web more open for everyone. I‚Äôm
                        fascinated by how AI is reshaping the world, and I enjoy experimenting with it and shaping it
                        through my own code. Side projects are my weakness‚Äîonce an idea hits, I can‚Äôt let it go.
                    </p>
                    <div class="flex flex-wrap gap-3">
                        <a
                            href="/resume.pdf"
                            target="_blank"
                            rel="noopener noreferrer"
                            class="py-3 px-5 rounded-full bg-black text-white dark:bg-white dark:text-black text-sm md:text-base font-semibold hover:opacity-80 transition"
                        >
                            Download Resume
                        </a>
                        <a
                            href="#contact"
                            class="py-3 px-5 rounded-full border border-black/20 dark:border-white/25 glass-panel text-sm md:text-base font-semibold hover:bg-black/5 hover:dark:bg-white/15 transition"
                        >
                            Hire me for Blockchain / AI / Software Engineering
                        </a>
                    </div>
                    <p class="text-sm text-black/60 dark:text-white/60 glass-panel">
                        üìçDetroit, MI ¬∑ Open to remote and on-site roles
                    </p>
                </div>

                <div class="animate flex justify-center lg:justify-end">
                    <div class="relative">
                        <div
                            class="absolute -inset-4 bg-gradient-to-tr from-black/5 via-transparent to-black/10 dark:from-white/10 dark:to-white/5 rounded-[32px] blur-2xl"
                        >
                        </div>
                        <div
                            class="relative p-1 rounded-[32px] border border-black/10 dark:border-white/15 glass-panel"
                        >
                            <img
                                src="/image/imran-pollob.jpg"
                                alt="Imran Pollob"
                                class="w-[16rem] h-[16rem] md:w-[18rem] md:h-[18rem] rounded-[28px] object-cover border-4 border-black/70 dark:border-white/70"
                            />
                        </div>
                    </div>
                </div>
            </div>
        </Container>
    </section>

    <section class="pb-16">
        <Container size="xl">
            <div class="animate grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                {
                    stats.map((item) => (
                        <div class="p-5 rounded-2xl border border-black/10 dark:border-white/15 glass-panel hover:-translate-y-1 hover:bg-black/5 dark:hover:bg-white/10 transition-all">
                            <p class="text-base font-semibold text-black dark:text-white">{item.title}</p>
                            <p class="text-sm text-black/70 dark:text-white/70 mt-2">{item.detail}</p>
                        </div>
                    ))
                }
            </div>
        </Container>
    </section>

    <section class="pb-16">
        <Container size="xl">
            <div class="animate space-y-4 glass-panel">
                <h2 class="text-2xl font-bold text-black dark:text-white">About Me</h2>
                <div class="space-y-4 text-base md:text-lg">
                    <p>
                        I‚Äôm <span class="bold">M M Imran (Pollob)</span> ‚Äî a PhD student at Wayne State researching the resilience
                        of decentralized systems. I approach security like an engineer: finding where protocols break under
                        pressure and building tools developers can trust in production.
                    </p>
                    <p>
                        Before academia, I spent five years in the industry, shipping full-stack systems in PHP,
                        JavaScript, and Python. That experience taught me that security isn‚Äôt just about theory ‚Äî it‚Äôs
                        about scaling and performing under real-world pressure.
                    </p>
                    <p>
                        I live in this loop: <span class="bold">build ‚Üí break ‚Üí learn ‚Üí share</span>. You‚Äôll find 50+
                        GitHub repositories of my experiments (blockchain, ML, web), plus long-form blog posts designed
                        to give other engineers the fastest path to understanding. I love the moment someone says, ‚ÄúOh‚Ä¶
                        now I get it‚Äù ‚Äî just like my past self.
                    </p>
                </div>
                <a
                    href="/experience"
                    class="inline-flex items-center gap-2 text-sm md:text-base font-semibold underline decoration-[.5px] underline-offset-4 decoration-black/30 dark:decoration-white/40 hover:text-black dark:hover:text-white"
                >
                    View my experience ‚Üí
                </a>
            </div>
        </Container>
    </section>

    <section class="pb-16">
        <Container size="xl">
            <div class="animate space-y-6">
                <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-3">
                    <h2 class="text-2xl font-bold text-black dark:text-white glass-panel">Core Skill Areas</h2>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    {
                        skillAreas.map((area) => (
                            <div class="p-6 rounded-2xl border border-black/10 dark:border-white/15 glass-panel hover:-translate-y-1 hover:bg-black/5 dark:hover:bg-white/10 transition-all duration-200">
                                <h3 class="text-lg font-semibold text-black dark:text-white mb-3">{area.title}</h3>
                                <ul class="space-y-2 text-sm md:text-base text-black/80 dark:text-white/80">
                                    {area.bullets.map((item) => (
                                        <li class="flex gap-2">
                                            <span class="mt-2 h-1.5 w-1.5 rounded-full bg-black dark:bg-white" />
                                            <span class="leading-relaxed">{item}</span>
                                        </li>
                                    ))}
                                </ul>
                            </div>
                        ))
                    }
                </div>
            </div>
        </Container>
    </section>

    <section class="pb-16">
        <Container size="xl">
            <div class="animate flex flex-col gap-6">
                <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-3">
                    <div>
                        <p class="text-sm uppercase tracking-wide glass-panel">Projects</p>
                        <h2 class="text-2xl font-bold text-black dark:text-white glass-panel">Featured Projects</h2>
                    </div>
                    <a
                        href="/projects"
                        class="inline-flex items-center gap-2 text-sm md:text-base font-semibold underline decoration-[.5px] underline-offset-4 decoration-black/30 dark:decoration-white/40 hover:text-black dark:hover:text-white glass-panel"
                    >
                        View all projects ‚Üí
                    </a>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    {
                        featuredProjects.map((project) => (
                            <a
                                href={project.href}
                                class="p-6 rounded-2xl border border-black/10 dark:border-white/15 glass-panel hover:-translate-y-1 hover:bg-black/5 dark:hover:bg-white/10 transition-all duration-200"
                            >
                                <div class="flex items-start justify-between gap-3">
                                    <div>
                                        <p class="text-xs uppercase text-black/60 dark:text-white/60">
                                            {project.subtitle}
                                        </p>
                                        <h3 class="text-xl font-semibold text-black dark:text-white mt-1">
                                            {project.title}
                                        </h3>
                                    </div>
                                    <span class="text-xs px-2 py-1 rounded-full border border-black/10 dark:border-white/20">
                                        {project.stack}
                                    </span>
                                </div>
                                <p class="mt-3 text-sm md:text-base text-black/80 dark:text-white/80 leading-relaxed">
                                    {project.description}
                                </p>
                                <p class="mt-4 text-sm font-semibold underline decoration-[.5px] underline-offset-4">
                                    View project ‚Üí
                                </p>
                            </a>
                        ))
                    }
                </div>
            </div>
        </Container>
    </section>

    <section class="pb-16">
        <Container size="xl">
            <div class="animate flex flex-col gap-6">
                <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-3">
                    <div>
                        <p class="text-sm uppercase tracking-wide glass-panel">Blog</p>
                        <h2 class="text-2xl font-bold text-black dark:text-white glass-panel">Start a Crash Course</h2>
                    </div>
                    <a
                        href="/blog"
                        class="inline-flex items-center gap-2 text-sm md:text-base font-semibold underline decoration-[.5px] underline-offset-4 decoration-black/30 dark:decoration-white/40 hover:text-black dark:hover:text-white glass-panel"
                    >
                        Read the blog ‚Üí
                    </a>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    {
                        blogPreviews.map(({ post, blurb }) => (
                            <a
                                href={`/blog/${post.slug}`}
                                class="p-6 rounded-2xl border border-black/10 dark:border-white/15 glass-panel hover:-translate-y-1 hover:bg-black/5 dark:hover:bg-white/10 transition-all duration-200"
                            >
                                <p class="text-xs uppercase text-black/60 dark:text-white/60">
                                    {post.data.tags.join(", ")}
                                </p>
                                <h3 class="text-lg font-semibold text-black dark:text-white mt-2">{post.data.title}</h3>
                                <p class="mt-3 text-sm md:text-base text-black/80 dark:text-white/80 leading-relaxed">
                                    {blurb || post.data.summary || "Explore the full post for details."}
                                </p>
                                <p class="mt-4 text-sm font-semibold underline decoration-[.5px] underline-offset-4">
                                    Read post ‚Üí
                                </p>
                            </a>
                        ))
                    }
                </div>
            </div>
        </Container>
    </section>

    <section class="pb-16">
        <Container size="xl">
            <div class="animate space-y-4">
                <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-3">
                    <div>
                        <p class="text-sm uppercase tracking-wide glass-panel">Certifications</p>
                        <h2 class="text-2xl font-bold text-black dark:text-white glass-panel">Credentials</h2>
                    </div>
                    <a
                        href="/experience#certifications"
                        class="inline-flex items-center gap-2 text-sm md:text-base font-semibold underline decoration-[.5px] underline-offset-4 decoration-black/30 dark:decoration-white/40 hover:text-black dark:hover:text-white glass-panel"
                    >
                        View all certifications ‚Üí
                    </a>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    {
                        certifications.map((cert) => (
                            <div class="p-4 rounded-2xl border border-black/10 dark:border-white/15 glass-panel flex flex-col gap-2 hover:-translate-y-1 hover:bg-black/5 dark:hover:bg-white/10 transition-all duration-200">
                                <p class="text-sm font-semibold text-black dark:text-white uppercase">{cert.label}</p>
                                <div class="flex flex-wrap gap-2">
                                    {cert.values.map((value) => (
                                        <span class="px-3 py-1 rounded-full border border-black/10 dark:border-white/25 text-sm bg-black/5 dark:bg-white/15">
                                            {value}
                                        </span>
                                    ))}
                                </div>
                            </div>
                        ))
                    }
                </div>
            </div>
        </Container>
    </section>

    <section id="contact" class="pb-20">
        <Container size="xl">
            <div class="animate p-8 rounded-2xl border border-black/10 dark:border-white/15 glass-panel space-y-6">
                <div class="space-y-2">
                    <p class="text-sm uppercase tracking-wide">Contact</p>
                    <h2 class="text-2xl font-bold text-black dark:text-white">
                        Let‚Äôs build something secure and intelligent.
                    </h2>
                    <p class="text-base md:text-lg text-black/80 dark:text-white/80">
                        I‚Äôm looking for opportunities in:
                    </p>
                    <ul
                        class="grid grid-cols-1 md:grid-cols-2 gap-2 text-sm md:text-base text-black/80 dark:text-white/80"
                    >
                        <li>‚Ä¢ Blockchain / Smart Contract Engineering</li>
                        <li>‚Ä¢ Blockchain Security</li>
                        <li>‚Ä¢ AI / ML Engineering (LLMs, RAG, applied ML)</li>
                        <li>‚Ä¢ Full-Stack Software Engineering</li>
                    </ul>
                </div>

                <div
                    class="flex flex-col md:flex-row flex-wrap md:items-center gap-4 text-sm md:text-base text-black/80 dark:text-white/80"
                >
                    {
                        SOCIALS.map((social) => (
                            <a
                                href={social.HREF}
                                target="_blank"
                                rel="noreferrer"
                                class="flex items-center gap-2 px-3 py-2 rounded-full border border-black/10 dark:border-white/20 bg-white/70 dark:bg-black/60 hover:bg-black/5 hover:dark:bg-white/10 transition"
                            >
                                <span class="inline-flex items-center justify-center rounded-full border border-black/10 dark:border-white/20 p-1">
                                    <svg class="size-4 fill-current">
                                        <use href={`/social.svg#${social.ICON}`} />
                                    </svg>
                                </span>
                                <span class="font-semibold text-black dark:text-white">{social.TEXT}</span>
                            </a>
                        ))
                    }
                </div>
            </div>
        </Container>
    </section>
</PageLayout>
